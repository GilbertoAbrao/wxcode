---
phase: 07-conversion-workflow-gsd
plan: 03
type: execute
wave: 2
depends_on: ["07-01"]
files_modified:
  - .claude/commands/wx-convert/milestone.md
  - .claude/commands/wx-convert/phase.md
  - docs/mcp-gsd-integration.md
autonomous: true

must_haves:
  truths:
    - "GSD milestone template exists for WinDev conversion workflow"
    - "GSD phase template queries KB automatically with MCP tools"
    - "Documentation explains how to use MCP Server with GSD workflow"
  artifacts:
    - path: ".claude/commands/wx-convert/milestone.md"
      provides: "/wx-convert:milestone command for conversion milestones"
      min_lines: 40
    - path: ".claude/commands/wx-convert/phase.md"
      provides: "/wx-convert:phase command for element conversion"
      min_lines: 50
    - path: "docs/mcp-gsd-integration.md"
      provides: "MCP + GSD integration documentation"
      min_lines: 100
  key_links:
    - from: ".claude/commands/wx-convert/milestone.md"
      to: "MCP conversion tools"
      via: "tool references in template"
      pattern: "get_conversion_stats|get_topological_order|get_conversion_candidates"
    - from: ".claude/commands/wx-convert/phase.md"
      to: "MCP element tools"
      via: "tool references in template"
      pattern: "get_element|get_controls|get_procedures"
---

<objective>
Create GSD templates for WinDev conversion workflow and integration documentation

Purpose: Enable structured conversion workflow using MCP tools with GSD methodology
Output: 2 slash command templates in .claude/commands/ and integration docs in docs/
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-conversion-workflow-gsd/07-RESEARCH.md

# Reference existing skills structure
@.claude/skills/wxcode/README.md
@.claude/commands/openspec/proposal.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create wx-convert milestone template</name>
  <files>.claude/commands/wx-convert/milestone.md</files>
  <action>
Create directory .claude/commands/wx-convert/ and milestone.md template (GSD-01).

Template should guide conversion of a WinDev module as a milestone:

1. **Header**: Title with placeholder for module name
2. **Context**: Project name, module name, target stack (FastAPI + Jinja2 + HTMX)
3. **Objective**: Clear conversion goal
4. **Prerequisites**: Import, analyze, sync-neo4j, MCP server running
5. **Workflow Phases**:
   - Phase 1: Discovery - use get_conversion_stats, get_topological_order, get_conversion_candidates
   - Phase 2: Conversion - iterate elements in order, use get_element/get_controls/get_procedures, convert, mark_converted
   - Phase 3: Validation - check 100% completion, run tests
6. **Success Criteria**: Checkboxes for completion tracking

Template format: Markdown with {{placeholder}} for customization.
Do NOT use emojis in template.
  </action>
  <verify>test -f .claude/commands/wx-convert/milestone.md && wc -l < .claude/commands/wx-convert/milestone.md | xargs test 40 -le</verify>
  <done>Milestone template created at .claude/commands/wx-convert/milestone.md</done>
</task>

<task type="auto">
  <name>Task 2: Create wx-convert phase template</name>
  <files>.claude/commands/wx-convert/phase.md</files>
  <action>
Create phase.md template for single element conversion (GSD-02).

Template should guide conversion of one element with KB context:

1. **Header**: Convert Element: {{element_name}}
2. **Context from Knowledge Base**:
   - Element Definition: get_element instruction
   - UI Structure: get_controls instruction
   - Business Logic: get_procedures instruction
   - Data Dependencies: get_schema/get_table instruction
3. **Conversion Tasks**:
   - Task 1: Generate Pydantic Models (from data_bindings and schema)
   - Task 2: Generate FastAPI Route (from element type and events)
   - Task 3: Generate Jinja2 Template (from controls)
   - Task 4: Mark Complete (call mark_converted with confirm=True)
4. **Verification**: Checklist for completion

Template format: Markdown with {{placeholder}} for customization.
Include specific MCP tool calls with parameters.
Do NOT use emojis in template.
  </action>
  <verify>test -f .claude/commands/wx-convert/phase.md && wc -l < .claude/commands/wx-convert/phase.md | xargs test 50 -le</verify>
  <done>Phase template created at .claude/commands/wx-convert/phase.md</done>
</task>

<task type="auto">
  <name>Task 3: Create MCP + GSD integration documentation</name>
  <files>docs/mcp-gsd-integration.md</files>
  <action>
Create comprehensive documentation (GSD-03) with sections:

1. **Overview**:
   - What MCP Server provides (19 tools for KB access)
   - How it connects to GSD workflow
   - Benefits of MCP-powered conversion

2. **Setup**:
   - Starting MCP Server: python -m wxcode.mcp.server
   - Configuring .mcp.json for Claude Code
   - Verifying connection

3. **Tool Reference** (brief summary, tools organized by category):
   - Element Tools: get_element, list_elements, search_code
   - Control Tools: get_controls, get_data_bindings
   - Procedure Tools: get_procedures, get_procedure
   - Schema Tools: get_schema, get_table
   - Graph Tools: get_dependencies, get_impact, get_path, find_hubs, find_dead_code, find_cycles
   - Conversion Tools: get_conversion_candidates, get_topological_order, mark_converted, get_conversion_stats

4. **Workflow Examples**:
   - Example 1: Check conversion progress
   - Example 2: Find next elements to convert
   - Example 3: Convert element and mark complete

5. **Troubleshooting**:
   - MCP Server not starting
   - Neo4j unavailable
   - Element not found
   - Confirmation required errors

Keep documentation practical and example-focused.
Do NOT use emojis in documentation.
  </action>
  <verify>test -f docs/mcp-gsd-integration.md && wc -l < docs/mcp-gsd-integration.md | xargs test 100 -le</verify>
  <done>Integration documentation created at docs/mcp-gsd-integration.md</done>
</task>

</tasks>

<verification>
- [ ] .claude/commands/wx-convert/milestone.md exists (40+ lines)
- [ ] .claude/commands/wx-convert/phase.md exists (50+ lines)
- [ ] docs/mcp-gsd-integration.md exists (100+ lines)
- [ ] Templates reference correct MCP tool names
- [ ] Documentation covers all 19 tools
- [ ] No emojis in any created files
</verification>

<success_criteria>
- GSD templates (GSD-01, GSD-02) available as /wx-convert: commands
- Documentation (GSD-03) explains MCP + GSD integration
- Phase 7 complete - all CONV and GSD requirements satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/07-conversion-workflow-gsd/07-03-SUMMARY.md`
</output>
