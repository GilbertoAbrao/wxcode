# Next.js App Router Stack Configuration
# Target: Next.js 13+ with App Router (RSC, Server Actions)
# Use case: Modern React fullstack applications

stack_id: "nextjs-app-router"
name: "Next.js (App Router)"
group: "fullstack"
language: "typescript"
framework: "nextjs"
orm: "prisma"
orm_pattern: "data-mapper"
template_engine: "jsx"

file_structure:
  models: "prisma/"
  schemas: "src/lib/schemas/"
  routes: "src/app/api/"
  services: "src/lib/services/"
  templates: "src/app/"
  static: "public/"
  components: "src/components/"
  lib: "src/lib/"
  types: "src/types/"
  actions: "src/app/actions/"

naming_conventions:
  class: "PascalCase"
  file: "kebab-case"
  component: "PascalCase"
  variable: "camelCase"
  constant: "UPPER_SNAKE_CASE"
  database_table: "snake_case"
  route: "kebab-case"
  server_action: "camelCase"

# HyperFile type code to Prisma type mappings
type_mappings:
  "1": "Bytes"       # Binary
  "2": "String"      # Text (short)
  "3": "String"      # Text (long)
  "4": "Int"         # Integer (16-bit)
  "5": "Int"         # Integer (32-bit)
  "6": "Int"         # Integer (signed)
  "7": "BigInt"      # Integer (64-bit)
  "8": "Float"       # Real (single)
  "9": "Float"       # Real (double)
  "10": "DateTime"   # Date
  "11": "DateTime"   # Time
  "12": "DateTime"   # DateTime
  "13": "Boolean"    # Boolean
  "14": "Decimal"    # Currency/Decimal
  "15": "String"     # Memo
  "16": "String"     # Rich Text
  "17": "Bytes"      # Image/Binary
  "18": "String"     # Sound (path)
  "19": "Int"        # Combo index
  "20": "String"     # Radio value
  "21": "String"     # UUID
  "22": "String"     # Enum (as string)
  "23": "Json"       # JSON/Variant
  "24": "Int"        # Duration (seconds)
  "25": "BigInt"     # Timestamp
  "26": "String"     # URL
  "27": "String"     # Email
  "28": "String"     # Phone

imports_template: |
  import { PrismaClient } from '@prisma/client'
  import { z } from 'zod'

  const prisma = new PrismaClient()

model_template: |
  // Prisma schema model example
  model User {
    id        Int      @id @default(autoincrement())
    email     String   @unique
    name      String?
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
  }

  // TypeScript usage
  const user = await prisma.user.create({
    data: { email: 'user@example.com', name: 'John' }
  })
